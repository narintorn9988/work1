if (self.CavalryLogger) { CavalryLogger.start_js(["Y1E\/f"]); }

__d("ComposerNUXType",[],(function a(b,c,d,e,f,g){f.exports={CAMERA_NUX:"camera_nux_seen",ADD_MORE_NUX:"add_more_nux_seen",OGCOMPOSER_NUX:"ogcomposer_nux_seen",FACEREC_SUGGESTIONS_NUX:"facerec_suggestions_nux_seen",TAGGING_FLYOUT_NUX:"tagging_flyout_nux_seen",SHARER_MINUTIAE_NUX:"sharer_minutiae_nux_seen",ADD_STICKERS_NUX:"add_stickers_nux_seen",UPCOMING_BIRTHDAYS_NUX:"upcoming_birthdays_nux_seen",CROSS_POST_NUX:"cross_post_nux_seen",SLIDESHOW_NUX:"slideshow_nux_seen"};}),null);
__d("PromptsInteractionsEventNames",[],(function a(b,c,d,e,f,g){f.exports={OPEN_SELECTING_CONTENT:"open_selecting_content",OPEN_SUGGESTING_CONTENT:"open_suggesting_content",TAP_SECONDARY_BUTTON:"tap_secondary_button",CLOSE_SUGGESTION:"close_suggestion",SELECT_SUGGESTION:"select_suggestion",CANCEL_COMPOSER:"cancel_composer",POST_PROMPT:"post_prompt",POST_WITHOUT_PROMPT:"post_without_prompt",POST_CREATED:"post_created",IMPRESSION:"impression",CLIENT_RANKER_IMPRESSION:"client_ranker_impression",SHOW_SUGGESTION:"show_suggestion",HIDE_SUGGESTION:"hide_suggestion",PROMPT_AVAILABLE:"prompt_available",PROMPT_NOT_CONSIDERED:"prompt_not_considered",DEIMPRESSION:"deimpression",CLICK_TAGGER:"og-tagger-click",UNDO_DISMISS:"undo_dismiss",SHARE:"share",CAMERA_CAPTURE:"camera_capture",CAMERA_FLIP:"camera_flip",SAVE_TO_CAMERA_ROLL:"save_to_camera_roll",TAP_FLASH_BUTTON:"tap_flash_button",SCREENSHOT:"screenshot",CLOSE_BUTTON:"close_button",BACK_TO_CAMERA_BUTTON:"back_to_camera_button",BACK_BUTTON:"back_button",PREVIEW_CONFIRM:"preview_confirm",GALLERY_SELECT:"gallery_select",IMPRESSION_END:"impression_end",EFFECT_APPLIED:"effect_applied",THUMBNAIL_IMPRESSION:"thumbnail_impression",NUX_SHOWN:"nux_shown",NUX_DIALOG_BUTTON_CLICKED_ALLOW:"nux_dialog_button_clicked_allow",NUX_DIALOG_BUTTON_CLICKED_DENY:"nux_dialog_button_clicked_deny",NUX_BUTTON_CLICKED:"nux_button_clicked",PERMISSION_ACCEPTED:"permission_accepted",PERMISSION_DENIED:"permission_denied",NUX_VIDEO_DOWNLOAD:"nux_video_download",NUX_BACK_TO_TOP:"nux_back_to_top",CAMERA_OFF:"camera_off",START_INSPIRATION_SESSION:"start_inspiration_session",END_INSPIRATION_SESSION:"end_inspiration_session",START_NUX_SESSION:"start_nux_session",END_NUX_SESSION:"end_nux_session",START_CAMERA_SESSION:"start_camera_session",END_CAMERA_SESSION:"end_camera_session",START_EDITING_SESSION:"start_editing_session",END_EDITING_SESSION:"end_editing_session",START_SHARE_SHEET_SESSION:"start_share_sheet_session",END_SHARE_SHEET_SESSION:"end_share_sheet_session",START_EFFECTS_TRAY_SESSION:"start_effects_tray_session",END_EFFECTS_TRAY_SESSION:"end_effects_tray_session",START_GALLERY_SESSION:"start_gallery_session",END_GALLERY_SESSION:"end_gallery_session",START_DOODLE_SESSION:"start_doodle_session",END_DOODLE_SESSION:"end_doodle_session",START_TEXT_SESSION:"start_text_session",END_TEXT_SESSION:"end_text_session",CAMERA_BUTTON_IN_FEED_IMPRESSION:"camera_button_in_feed_impression",TAP_AUDIO_MUTE_BUTTON:"tap_audio_mute_button",TAP_MIRROR_ASSET_BUTTON:"tap_mirror_asset_button",TAP_ROTATE_BUTTON:"tap_rotate_button",NO_EFFECTS:"no_effects",CHANGE_CATEGORY:"change_category",START_STICKER_SESSION:"start_sticker_session",END_STICKER_SESSION:"end_sticker_session",START_LOCATION_PICKER_SESSION:"start_location_picker_session",END_LOCATION_PICKER_SESSION:"end_location_picker_session",STICKER_SELECTED:"sticker_selected",STICKER_LOCATION_SEARCH_BAR_ENTERS:"sticker_location_search_bar_enters",STICKER_ADJUSTED:"sticker_adjusted",STICKER_DELETED:"sticker_deleted",CHANGE_STICKER_STYLE:"change_sticker_style"};}),null);
__d('CircularProgressBar.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'CircularProgressBar',propTypes:{percentComplete:i.number.isRequired},render:function k(){var l=360*this.props.percentComplete/100,m=Math.max(l,180)-180,n=Math.min(l,180),o=this.props.percentComplete<100?'1':'0';return c('React').createElement('div',{className:"_1_bj",style:{opacity:o}},c('React').createElement('div',{className:"_1_bk"},c('React').createElement('div',{className:"_1_bl",style:{opacity:o}}),c('React').createElement('div',{className:"_1_bp _1_bq"},c('React').createElement('div',{className:"_1_br",style:{transform:'translateX(-100%) rotate('+m+'deg)',opacity:o}})),c('React').createElement('div',{className:"_1_bs _1_bq"},c('React').createElement('div',{className:"_1_br",style:{transform:'translateX(-100%) rotate('+n+'deg)',opacity:o}}))));}});f.exports=j;}),null);
__d("createExponentialMovingAverage",[],(function a(b,c,d,e,f,g){function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m);};}function i(k){return function(l){return 1-Math.exp(-l/k);};}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m);};}h.createContinuous=j;f.exports=h;}),null);
__d('VelocityTracker',['createExponentialMovingAverage','performanceNow'],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];'use strict';this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker2=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker6);}h.prototype.update=function(i,j){'use strict';var k=0;if(this.$VelocityTracker4){k=c('performanceNow')()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1000/k,(j-this.$VelocityTracker4.y)*1000/k);}else this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker4={x:i,y:j};return k;};h.prototype.updateVelocity=function(i,j){'use strict';var k=c('performanceNow')(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l;};h.prototype.getVelocityX=function(){'use strict';return Math.trunc(this.$VelocityTracker5);};h.prototype.getVelocityY=function(){'use strict';return Math.trunc(this.$VelocityTracker6);};h.prototype.getSpeed=function(){'use strict';return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6));};f.exports=h;}),null);
__d('ReactComposerMediaAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_MEDIA_CONFIG:null},'ReactComposerMediaAttachmentActionType');}),null);
__d('ReactComposerMediaAttachmentStore',['ReactComposerMediaAttachmentActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null};},function(l){switch(l.type){case c('ReactComposerMediaAttachmentActionType').SET_MEDIA_CONFIG:k&&k.$ReactComposerMediaAttachmentStore1(l);break;}});k=this;}j.prototype.getCreateAlbumLink=function(k){'use strict';return this.getComposerData(k).createAlbumLink;};j.prototype.getTaggingDataSource=function(k){'use strict';return this.getComposerData(k).taggingDataSource;};j.prototype.getVideoUploader=function(k){'use strict';return this.getComposerData(k).videoUploader;};j.prototype.getVideoProgressBarInstance=function(k){'use strict';return this.getComposerData(k).videoProgressBarInstance;};j.prototype.getVideoProgressBar=function(k){'use strict';return this.getComposerData(k).videoProgressBar;};j.prototype.$ReactComposerMediaAttachmentStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.createAlbumLink=k.config.createAlbumLink;l.taggingDataSource=k.config.taggingDataSource;l.videoUploader=k.config.videoUploader;l.videoProgressBar=k.config.videoProgressBar;l.videoProgressBarInstance=k.config.videoProgressBarInstance;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d('ReactComposerMediaAttachmentActions',['ReactComposerMediaAttachmentActionType','ReactComposerDispatcher','ReactComposerMediaAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerMediaAttachmentStore');h.prototype.setConfig=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMediaAttachmentActionType').SET_MEDIA_CONFIG,config:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.createAlbumSelectorClicked=function(i){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMediaAttachmentActionType').CREATE_ALBUM_SELECTOR_CLICKED});};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerStatusActions',['ReactComposerStatusActionType','ReactComposerDispatcher','ReactComposerStatusStore'],(function a(b,c,d,e,f,g){c('ReactComposerStatusStore');h.prototype.setMentionsSource=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_MENTIONS_SOURCE,mentionsSource:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setTypeaheadReporter=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_TYPEAHEAD_REPORTER,typeaheadReporter:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setEditorState=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_EDITOR_STATE,editorState:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setOriginalEditorState=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_ORIGINAL_EDITOR_STATE,originalEditorState:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setMentions=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerStatusActionType').SET_MENTIONS,mentions:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setTextLength=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerStatusActionType').SET_TEXT_LENGTH,textLength:j});};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerStatusAttachmentMentionsInput.react',['cx','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerInit','ReactComposerTaggerType','AddEmojiInputContainer','Arbiter','EditorState','MentionsInput.react','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','XUITypeaheadView.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('AddEmojiInputContainer').addEmojiInput,j=c('React').PropTypes,k=void 0;if(i){k=i(c('MentionsInput.react'));}else k=c('MentionsInput.react');var l=c('React').createClass({displayName:'ReactComposerStatusAttachmentMentionsInput',_subscriptions:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{config:c('ReactComposerConfig'),mentionsSource:j.object,preventFocus:j.bool,typeaheadReporter:j.object,onChange:j.func,onFocus:j.func,onPasteFiles:j.func},componentWillUnmount:function m(){this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release();},componentWillMount:function m(){var n=new (c('SubscriptionsHandler'))();if(!this.props.preventFocus)n.addSubscriptions(c('Arbiter').subscribe([c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus();}.bind(this)));this._subscriptions=n;},render:function m(){var n=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c('ReactComposerTaggerType').PEOPLE],o=n&&n.typeaheadView?n.typeaheadView:c('XUITypeaheadView.react'),p=n&&n.typeaheadViewProps?n.typeaheadViewProps:{},q=Object.assign({},{typeaheadView:o,typeaheadViewProps:p,selectOnTab:false,spellCheck:true},this.props,{className:c('joinClasses')("_1mwp",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return c('React').createElement(k,babelHelpers['extends']({ref:'mentionsInput'},q,{webDriverTestID:'status-attachment-mentions-input'}));},focus:function m(){if(!c('ReactComposerInit').isInstanceMounted(this.context.composerID)){c('Arbiter').subscribeOnce([c('ReactComposerEvents').INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs.mentionsInput.focus();}.bind(this));}else this.refs.mentionsInput.focus();},blur:function m(){this.refs.mentionsInput.blur();},_onAddMention:function m(n,o,p){var q=this.props.typeaheadReporter;if(q){q.reportSelect(n.getUniqueID(),n.getType(),o,p.button>=0);q.sessionEnd();q.sessionStart();}},_onShowMentions:function m(n,o){var p=this.props.typeaheadReporter;if(p)p.reportResults(n.map(function(q){return q.getUniqueID();}));},_onFocus:function m(){var n=this.props.typeaheadReporter;if(n)n.sessionStart();this.props.onFocus&&this.props.onFocus();},_onChange:function m(n){this.props.onChange&&this.props.onChange(n);},_onBlur:function m(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.props.editorState);}});f.exports=l;}),null);
__d('ReactComposerStatusAttachmentMentionsInputVariant.react',['cx','ReactComposerActions','ReactComposerAttachmentType','ReactComposerStatusAttachmentMentionsInput.react','AddEmojiToEditorStateContainer','EmojiInputButtonContainer','ReactComposerStickerContainer','Keys','React','UserAgent_DEPRECATED','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AddEmojiToEditorStateContainer').addEmojiToEditorState,l=c('EmojiInputButtonContainer').EmojiInputButton,m=c('ReactComposerStickerContainer').ReactComposerStickerComponent;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.insertEmoji=function(p){if(k)k(p,this.props.editorState,this.props.onChange);}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant1=function(p){var q=/^image\//;p=p.filter(function(r){return q.test(r.type);});if(p.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(p);return true;}return false;}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant2=function(event,p){var q=c('UserAgent_DEPRECATED').osx()?event.metaKey:event.controlKey;if(event.keyCode===c('Keys').RETURN&&q){this.blur();setTimeout(this.props.onPostIntent,0);return true;}return false;}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant3=function(){c('ReactComposerActions').expandSprouts(this.props.compositionID);}.bind(this);}n.prototype.render=function(){var o=this.props.config&&this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],p=null;if(this.props.useRichTextEditor){var q=o.richTextEditor;p=c('React').createElement(q,babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3w8y"+(!!l?' '+"_21mu":'')),canAttachVideo:false,canAttachPhoto:false,canAttachEmbed:false,onSave:c('emptyFunction'),spellCheck:true,autoCorrect:false,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2,ref:'mentionsInput'}));}else p=c('React').createElement(c('ReactComposerStatusAttachmentMentionsInput.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":'')+(this.props.config&&this.props.config.showExpandedComposer?' '+"_4c_p":'')+(o&&o.showProfilePic?' '+"_5bu_":'')+(this.props.isPosting?' '+"_1udp":'')+(this.props.shouldUseLargeText?' '+"_17nh":'')+(o&&o.largeTextThreshold?' '+"_34nd":'')+(!!l?' '+"_21mu":'')+(this.props.sticker&&this.props.sticker.stickerID?' '+"_hjn":'')),ref:'mentionsInput',readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2}));var r=null;if(l){var s="_3nc-",t="_3nc_",u="_5zq9";r=c('React').createElement(l,{buttonClassName:s,iconActiveClassName:u,iconClassName:t,onSelect:this.insertEmoji,onClick:this.$ReactComposerStatusAttachmentMentionsInputVariant3});}var v=null;if(m)v=c('React').createElement(m,{sticker:this.props.sticker,composerID:this.props.compositionID});if(r||v)p=c('React').createElement('div',{className:"_3nd0"},v,p,r);return p;};n.prototype.blur=function(){this.refs.mentionsInput.blur();};n.prototype.focus=function(){this.refs.mentionsInput.focus();};f.exports=n;}),null);
__d('ReactComposerStatusAttachmentMentionsInputContainer.react',['ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEmojiUtils','ReactComposerEvents','ReactComposerMediaUploadStore','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputVariant.react','ReactComposerStatusStore','ReactComposerStore','ReactComposerScrapedAttachmentStore','ReactComposerTaggerStore','ReactComposerTaggerType','EditorState','LitestandStoryInsertionStatus','ReactComponentWithPureRenderMixin','ReactComposerHandleUnsavedChanges','ReactComposerInputDecorator','ReactComposerStatusUtils','React','UnicodeUtils','Arbiter','ifRequired'],(function a(b,c,d,e,f,g){var h=c('ReactComposerEmojiUtils').getReactComposerInputDecorator,i=c('React').PropTypes,j=function l(m,n){var o=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m);if(o===c('ReactComposerAttachmentType').LIVE_VIDEO)return false;var p=n&&n.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],q=c('ReactComposerTaggerStore').hasMarkdown(m);return !!(p&&p.richTextEditor&&!q);},k=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputContainer',_rerenderSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerScrapedAttachmentStore'),c('ReactComposerStatusStore'),c('ReactComposerStore'),c('ReactComposerTaggerStore'))],propTypes:{config:c('ReactComposerConfig'),mentionsEnabled:i.bool,mentionsSource:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func,handlePastedText:i.func},getDefaultProps:function l(){return {mentionsEnabled:true};},getInitialState:function l(){return {isFocused:false};},statics:{calculateState:function l(m,n){var o=c('ReactComposerStatusStore').getEditorState(m),p=n.config&&n.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],q=false,r=c('ReactComposerStatusStore').getTextLength(m),s=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(m),t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m);if(p&&p.largeTextThreshold&&c('ReactComposerMediaUploadStore').getUploadsCount(m)===0&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(m)&&!c('ReactComposerTaggerStore').hasExplicitLocation(m)&&c('ReactComposerMinutiaeAttachmentStore').getMarkup(m)===null&&t!==c('ReactComposerAttachmentType').SELL){if(!r&&o){var u=o.getCurrentContent();r=c('UnicodeUtils').strlen(u.getPlainText());}var v=n.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].placeholderText;if(v&&v.length<=p.LargePlaceholderTextThreshold&&r===0&&s||r!==0&&r<=p.largeTextThreshold)q=true;c('ifRequired')('ReactComposerFormattedTextStore',function(z){if(z.getSelectedIndex(m)>=0)q=true;});}var w=c('ReactComposerInputDecorator').NONE;if(n.mentionsEnabled)w=p&&p.richTextEditor?c('ReactComposerInputDecorator').RICH_TEXT:c('ReactComposerInputDecorator').MENTIONS;var x=h(w,q&&!j(m,n.config)?28:16),y;if(o){if(o.getDecorator()!==x){y=c('EditorState').set(o,{decorator:x});c('ReactComposerStatusActions').setEditorState(m,y);}else y=o;}else{y=c('EditorState').createEmpty(x);c('ReactComposerStatusActions').setEditorState(m,y);}return {editorState:y,isSelectedAttachmentActive:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(m),mentionsSource:n.mentionsEnabled?c('ReactComposerStatusStore').getMentionsSource(m):null,posting:c('ReactComposerStore').isPosting(m),typeaheadReporter:c('ReactComposerStatusStore').getTypeaheadReporter(m),shouldUseLargeText:q,selectedSticker:c('ReactComposerTaggerStore').getTaggerData(m,c('ReactComposerTaggerType').STICKER)};}},componentWillMount:function l(){if(this.props.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c('LitestandStoryInsertionStatus').registerBlocker(function(){return c('ReactComposerHandleUnsavedChanges').hasUnsavedChanges(this.context.composerID)||this.state.isFocused;}.bind(this));},componentDidMount:function l(){var m=c('ReactComposerStatusStore').getEditorState(this.context.composerID);if(this.state.editorState!==m){this._pendingEditorStateUpdateFromMount=m;this.setState({editorState:m},function(){this._pendingEditorStateUpdateFromMount=undefined;}.bind(this));}this._rerenderSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:c('ReactComposerStatusStore').getEditorState(this.context.composerID)});}.bind(this));},componentWillReceiveProps:function l(m){if(this.props.mentionsSource!==m.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,m.mentionsSource);if(m.editorState===null){var n=c('EditorState').createEmpty(h(c('ReactComposerInputDecorator').MENTIONS));c('ReactComposerStatusActions').setEditorState(this.context.composerID,n);this.setState({editorState:n});}},componentWillUnmount:function l(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;this._rerenderSubscription&&this._rerenderSubscription.unsubscribe();},_useRichTextEditor:function l(){return j(this.context.composerID,this.props.config);},render:function l(){return c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputVariant.react'),babelHelpers['extends']({},this.props,{compositionID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:'mentionsInput',shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this._useRichTextEditor(),sticker:this.state.selectedSticker}));},focus:function l(){this.refs.mentionsInput.focus();if(this._pendingEditorStateUpdateFromMount!==undefined)this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs.mentionsInput.focus();}.bind(this));},_onFocus:function l(){c('Arbiter').inform(c('ReactComposerEvents').MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus();},_onChange:function l(m){if(this._pendingEditorStateUpdateFromMount!==undefined)return;var n=0;if(m){var o=m.getCurrentContent();n=o?c('UnicodeUtils').strlen(o.getPlainText()):0;if(c('ReactComposerStatusStore').getEditorState(this.context.composerID)!==m){c('ReactComposerStatusActions').setEditorState(this.context.composerID,m);c('ReactComposerStatusActions').setTextLength(this.context.composerID,n);}}this._handleMarkdownChange(m);this.props.onChange&&this.props.onChange(m);this.setState({editorState:m});},_handleMarkdownChange:function l(m){var n=this.props.config?this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS]:null;c('ReactComposerStatusUtils').handleMarkdownPreview(this.context.composerID,this.context.targetID,n?n.markdownPreviewAttachment:null,m);},_onBlur:function l(m){c('ReactComposerStatusActions').setEditorState(this.context.composerID,m);this.setState({isFocused:false});},_onPostIntent:function l(){c('ReactComposerActions').postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}});f.exports=k;}),null);
__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['cx','ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],render:function j(){var k=c('joinClasses')(this.props.className,"_395");return c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputContainer.react'),babelHelpers['extends']({},this.props,{className:k,onChange:this._onChange,ref:'mentionsInput'}));},focus:function j(){this.refs.mentionsInput.focus();},insertEmoji:function j(k){this.refs.mentionsInput.insertEmoji(k);},_onChange:function j(k){c('ReactComposerStatusActions').setMentions(this.context.composerID,this._getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k);},_getMentionsFromEditorState:function j(k){var l=k.getCurrentContent(),m={};l.getBlockMap().forEach(function(n){var o=n.getText();n.findEntityRanges(function(){return true;},function(p,q){var r=n.getEntityAt(p);if(!r)return;var s=l.getEntity(r);if(s.getType()!=='MENTION'||s.getData().type!=='user')return;var t=s.getData().id;m[t]={type:'user',uid:t,text:o.slice(p,q),isWeak:s.getData().isWeak};});});return m;}});f.exports=i;}),null);
__d("XReactFeedComposerXPromptDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/prompts\/dismiss\/",{user_action:{type:"Enum",enumType:1},prompt_id:{type:"String"},prompt_type:{type:"String"},prompt_tracking_string:{type:"String"},prompt_state:{type:"String"},composer_session_id:{type:"String"}});}),null);