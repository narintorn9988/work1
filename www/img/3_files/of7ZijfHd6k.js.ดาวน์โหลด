if (self.CavalryLogger) { CavalryLogger.start_js(["VHhUx"]); }

__d("NotificationsTabEnum",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"My Conversations",KEYWORDS:"Keywords"};}),null);
__d('SignalsTabCountColor',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({GREY:null,BLUE:null,YELLOW:null,RED:null});f.exports=h;}),null);
__d('SignalsTab.react',['React','SignalsTabCountColor'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return c('React').createElement('div',null,this.props.children);};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,countColor:k.oneOf(Object.keys(c('SignalsTabCountColor'))),maxCountToDisplay:k.number,title:k.node.isRequired};l.defaultProps={countColor:c('SignalsTabCountColor').GREY};f.exports=l;}),null);
__d('SignalsTabGroupHeaderSize',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({MEDIUM:null,LARGE:null});f.exports=h;}),null);
__d('SignalsTabHeader.react',['cx','React','SignalsTabCountColor','SignalsTabGroupHeaderSize','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('React').PureComponent,m=(k={},k[c('SignalsTabCountColor').GREY]="_hvx",k[c('SignalsTabCountColor').BLUE]="_hvy",k[c('SignalsTabCountColor').YELLOW]="_hvz",k[c('SignalsTabCountColor').RED]="_hv-",k);i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.count,q=o.countColor,r=o.headerSize,s=o.maxCountToDisplay,t=o.selected,u=o.title,v="_1yd7"+(r===c('SignalsTabGroupHeaderSize').LARGE?' '+"_hw0":'')+(t?' '+"_hwa":'')+(!t?' '+"_hwb":''),w=p!=null&&s!=null&&p>s?s+'+':p,x=p==null?null:c('React').createElement('div',{className:c('joinClasses')("_1yd8",m[q])},w);return c('React').createElement('div',{className:v,role:'tab',tabIndex:'0',onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:"_1ydb"},u,x));};f.exports=n;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTab.react','SignalsTabGroupHeaderSize','SignalsTabHeader.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').PureComponent,n=c('React').PropTypes,o='';j=babelHelpers.inherits(p,m);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$SignalsTabGroup4=function(){var s=this.$SignalsTabGroup5();if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){return this.$SignalsTabGroup6();}.bind(this));}.bind(this);this.$SignalsTabGroup7=function(s){if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){this.$SignalsTabGroup6();this.$SignalsTabGroup3();}.bind(this));}.bind(this);var r=q.children;r&&r.length>0||i(0);this.$SignalsTabGroup1=r.map(function(s,t){return s.props.path||String(t);});this.state={selectedIndex:this.$SignalsTabGroup2(q)};this.$SignalsTabGroup3(true);}p.prototype.componentWillReceiveProps=function(q){if(q.initiallySelectedIndex!=null&&q.initiallySelectedIndex!=this.state.selectedIndex){var r=this.$SignalsTabGroup2(q);if(this.state.selectedIndex!==r)this.setState({selectedIndex:r},function(){this.$SignalsTabGroup3();}.bind(this));}};p.prototype.componentDidMount=function(){var q=this.props.usePaths;if(q)window.addEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.componentWillUnmount=function(){window.removeEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.$SignalsTabGroup2=function(q){var r=q.children,s=q.initiallySelectedIndex,t=q.usePaths,u=this.$SignalsTabGroup5(),v=t&&u>-1,w=0;if(!v){if(s!=null)w=s;}else w=u;0<=w&&r&&w<r.length||i(0);return w;};p.prototype.$SignalsTabGroup3=function(){var q=arguments.length<=0||arguments[0]===undefined?false:arguments[0],r=this.props.usePaths;if(r){var s=this.state.selectedIndex,t=this.$SignalsTabGroup1,u=this.props.basePath||o,v=document,w=v.location,x=v.title,y=w.search;if(q){history.replaceState(history.state,x,''+u+t[s]+y);}else history.pushState(history.state,x,''+u+t[s]+y);}};p.prototype.$SignalsTabGroup5=function(){var q=this.$SignalsTabGroup1,r=this.props.basePath||o,s=document.location.pathname.replace(''+r,'');return q.indexOf(s);};p.prototype.$SignalsTabGroup6=function(){var q=this.props.onSelectionChanged;if(q!=null)q.bind(this)(this.state.selectedIndex);};p.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};p.prototype.render=function(){var q=l.toArray(this.props.children),r=this.state.selectedIndex,s=this.props,t=s.rightContent,u=s.leftContent,v=s.className,w=s.headerSize,x=[];for(var y=0;y<q.length;y++){var z=q[y],aa=c('React').createElement(c('SignalsTabHeader.react'),{count:z.props.count,countColor:z.props.countColor,headerSize:w,index:y,key:'header'+y,maxCountToDisplay:z.props.maxCountToDisplay,selected:y===r,title:z.props.title,onSelect:this.$SignalsTabGroup7});x.push(aa);if(y<q.length-1&&this.props.showSeparator){var ba=c('React').createElement('div',{className:"_58-m",key:'separator'+y});x.push(ba);}}var ca=q[r],da=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return c('React').createElement('div',{className:v},c('React').createElement('div',{className:"_58-n"+(w===c('SignalsTabGroupHeaderSize').LARGE?' '+"_g_z":'')},u,x,c('React').createElement('div',{className:"_3p80"}),t),c('React').createElement('div',{className:"_58-o",style:da},ca));};p.propTypes={children:n.array,className:n.string,headerSize:n.oneOf(['MEDIUM','LARGE']),initiallySelectedIndex:n.number,leftContent:n.any,maxBodyHeight:n.number,rightContent:n.any,showSeparator:n.bool,usePaths:n.bool,onSelectionChanged:n.func};p.defaultProps={headerSize:c('SignalsTabGroupHeaderSize').MEDIUM,showSeparator:true};f.exports=p;}),null);
__d('NotificationsTabsModel',['fbt','EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger'],(function a(b,c,d,e,f,g,h){var i={TABS:{all:h._("All"),myConversations:h._("My Conversations"),keywords:h._("Keywords")},onTabSelectionChanged:function j(){var k=this.props.children[this.getSelectedIndex()].key;new (c('EnterpriseLabsTypedLogger'))().setEntityID('tab:'+k).setEvent(c('EnterpriseLabsLoggingEvents').NT_CLICK_TAB).log();}};f.exports=i;}),null);
__d("XKeywordSubscribeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/keyword\/controller\/{?keyword_id}\/",{keyword_id:{type:"String"}});}),null);
__d('NotificationTabsController',['cx','React','LogicalGrid.react','NotificationsTabConfig','NotificationsTabsModel','SignalsTab.react','XKeywordSubscribeController'],(function a(b,c,d,e,f,g,h){var i={conversations:'https://our.intern.facebook.com/intern/wiki/IT_Frontpage'+'/Enterprise_Labs/Tabs_for_Notifications/#FAQ',keywords:c('XKeywordSubscribeController').getURIBuilder().getURI()},j={getSizeUnseenState:function k(l){var m={};for(var n in c('NotificationsTabsModel').TABS)m[c('NotificationsTabsModel').TABS[n]]=0;m.All=m.All||0;var o=[];for(var p in l){o.push(l[p].seen_state);if(l[p].seen_state in c('NotificationsTabConfig').notifs_unseen){m.All++;if(!isNaN(m[l[p].notifTab]))m[l[p].notifTab]++;}}return m;},getTabByName:function k(l,m,n,o){var p=m[l]||0;return c('React').createElement(c('SignalsTab.react'),{title:l,key:l,count:p},c('React').createElement(c('LogicalGrid.react'),{component:n},o),c('React').createElement('div',{className:"_57g3"},c('React').createElement('a',{href:i.conversations},'Learn More')));}};f.exports=j;}),null);
__d('NotificationJewelList.react',['cx','fbt','Animation','ErrorBoundary.react','Event','LogicalGrid.react','NotificationListItem.react','NotificationListPropTypes','NotificationsTabConfig','NotificationTabsController','NotificationsTabEnum','NotificationsTabsModel','NotifTestIDs','NotificationVPVs','React','ReactDOM','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Vector','XUISpinner.react','FunnelLogger','NotificationJewelFunnelLoggingConstants','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,m=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,n=160,o=530,p=40,q=64,r=430;j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(){var t,u;'use strict';for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$NotificationJewelList6=function(){if(!this.$NotificationJewelList1||!this.$NotificationJewelList3)return;var y=c('ReactDOM').findDOMNode(this.$NotificationJewelList1);if(!y)return;var z=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!z)return;var aa=c('NotificationVPVs').getValidatedRectangle(z);if(this.props.afterScroll)this.props.afterScroll(this.$NotificationJewelList4(),y,aa);}.bind(this),this.$NotificationJewelList7=function(){return c('getObjectValues')(this.props.notifs).map(function(y){return JSON.stringify(y);});}.bind(this),this.$NotificationJewelList10=function(){c('FunnelLogger').appendAction(l,m.SCROLL_TO_FETCH);this.$NotificationJewelList6();}.bind(this),u;}s.prototype.$NotificationJewelList4=function(){'use strict';if(!this.$NotificationJewelList2||!this.$NotificationJewelList3)return false;var t=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!t)return false;var u=c('ReactDOM').findDOMNode(this.$NotificationJewelList2);if(!u)return false;var v=c('Vector').getElementDimensions(t).y;if(v===0)return false;var w=c('Vector').getElementPosition(t).y+v,x=c('Vector').getElementPosition(u).y;x-=p;return x<w;};s.prototype.$NotificationJewelList5=function(){'use strict';var t=c('Vector').getViewportDimensions().y,u=Math.min(this.props.maxHeight||o,t-n);if(this.props.upsell)return Math.max(u-q,0);return u;};s.prototype.$NotificationJewelList8=function(t,u){'use strict';var v=void 0;if(!t){v=function x(y){return y;};}else v=function x(y){if(y.notifTab===u)return y;return null;};var w=c('getObjectValues')(this.props.notifs).filter(v).map(function(x){return x.alert_id;});return c('getObjectValues')(this.props.notifs).filter(v).map(function(x,y){var z=x.alert_id,aa=this.$NotificationJewelList9(z,w);return c('React').createElement(c('ErrorBoundary.react'),{key:z},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationJewelList7,isRead:this.props.readState[z],negativeTracking:this.props.negativeTracking,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onRead:this.props.onRead,parent:this,paused:this.props.paused,row:aa,rowIndex:y,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[z],notification:x}));}.bind(this));};s.prototype.componentDidMount=function(){'use strict';if(!this.$NotificationJewelList3)return;var t=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);c('Event').listen(window,'resize',c('debounce')(function(){if(!c('isEmpty')(this.props.notifs))new (c('Animation'))(t).to('height',this.$NotificationJewelList5()+'px').duration(100).go();}.bind(this)));};s.prototype.componentDidUpdate=function(t){'use strict';if(this.props.paused&&!t.paused)if(this.props.shouldScroll&&this.$NotificationJewelList3){var u=this.$NotificationJewelList3.getArea();if(u)u.scrollToTop(false);}setTimeout(this.$NotificationJewelList6,0);};s.prototype.$NotificationJewelList9=function(t,u){'use strict';return u.indexOf(t);};s.prototype.render=function(){'use strict';var t=this.props.notifs,u=null,v=null,w=r,x=null,y=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(t)){u=c('React').createElement(c('LogicalGrid.react'),{ref:function(ka){return this.$NotificationJewelList1=ka;}.bind(this),component:y},this.$NotificationJewelList8(false,''));v=this.$NotificationJewelList5();}else if(!this.props.canFetchMore)u=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e43\u0e2b\u0e21\u0e48"));if(this.props.canFetchMore)x=c('React').createElement(c('XUISpinner.react'),{ref:function(ka){return this.$NotificationJewelList2=ka;}.bind(this),className:"jewelLoading"});var z=null;if(this.props.upsell){var aa=this.props.upsell.module;z=c('React').createElement(aa,this.props.upsell.props);}var ba="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),ca=c('React').createElement(c('ScrollableArea.react'),{ref:function(ka){return this.$NotificationJewelList3=ka;}.bind(this),width:w,height:v,fade:true,persistent:true,onScroll:c('debounce')(this.$NotificationJewelList10,200)},u,x);if(c('NotificationsTabConfig').in_gk_notifications_tab&&c('NotificationsTabConfig').is_work_user){var da=true,ea=this.$NotificationJewelList8(da,c('NotificationsTabEnum').CONVERSATIONS),fa=this.$NotificationJewelList8(da,c('NotificationsTabEnum').KEYWORDS),ga=c('NotificationTabsController').getSizeUnseenState(t),ha=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.myConversations,ga,y,ea),ia=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.keywords,ga,y,fa),ja=c('NotificationsTabsModel').TABS.all;ca=c('React').createElement(c('SignalsTabGroup.react'),{onSelectionChanged:c('NotificationsTabsModel').onTabSelectionChanged},c('React').createElement(c('SignalsTab.react'),{title:ja,key:ja,count:ga[ja]},ca),ha,ia);}return c('React').createElement('div',{className:ba},ca,z);};s.propTypes=c('NotificationListPropTypes');f.exports=s;}),null);